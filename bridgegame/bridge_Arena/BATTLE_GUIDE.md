# æ¡¥ç‰Œ AI å¯¹æˆ˜æµç¨‹æŒ‡å—

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜å¦‚ä½•é…ç½®å’Œè¿è¡Œæ¡¥ç‰Œ AI å¯¹æˆ˜ç³»ç»Ÿã€‚

## ç³»ç»Ÿæ¶æ„

æ¡¥ç‰Œå¯¹æˆ˜ç³»ç»Ÿç”±ä¸‰ä¸ªä¸»è¦éƒ¨åˆ†ç»„æˆï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å¯¹æˆ˜ç®¡ç†ç³»ç»Ÿ                              â”‚
â”‚              (bridge_Arena/start_arena.py)                  â”‚
â”‚         è´Ÿè´£ç»„ç»‡æ¯”èµ›ã€ç®¡ç†å¯¹å±€ã€ç»Ÿè®¡ç»“æœ                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ¡¥ç‰Œæ¸¸æˆæœåŠ¡å™¨                              â”‚
â”‚              (bridge/server.py:9030)                        â”‚
â”‚         æä¾›æ¸¸æˆé€»è¾‘ã€çŠ¶æ€ç®¡ç†ã€åˆæ³•æ€§éªŒè¯                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â†“                               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AI é˜Ÿä¼ A          â”‚        â”‚   AI é˜Ÿä¼ B          â”‚
â”‚  (è¿ç»­åŒç«¯å£)          â”‚        â”‚  (è¿ç»­åŒç«¯å£)          â”‚
â”‚  50100-50101         â”‚        â”‚  50102-50103         â”‚
â”‚  â”œâ”€ AI 1 (50100)     â”‚        â”‚  â”œâ”€ AI 1 (50102)     â”‚
â”‚  â””â”€ AI 2 (50101)     â”‚        â”‚  â””â”€ AI 2 (50103)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ä¸ºä»€ä¹ˆéœ€è¦è¿ç»­ç«¯å£ï¼Ÿ

æ¡¥ç‰Œæ˜¯ **2v2** çš„æ¸¸æˆï¼Œæ¯ä¸ªé˜Ÿä¼æœ‰ 2 åç©å®¶ï¼š
- **å—åŒ—ï¼ˆNSï¼‰**ï¼šä½ç½® 0ï¼ˆåŒ—ï¼‰å’Œ ä½ç½® 2ï¼ˆå—ï¼‰
- **ä¸œè¥¿ï¼ˆEWï¼‰**ï¼šä½ç½® 1ï¼ˆä¸œï¼‰å’Œ ä½ç½® 3ï¼ˆè¥¿ï¼‰

æ¯ä¸ª AI é˜Ÿä¼éœ€è¦ä¸¤ä¸ªç‹¬ç«‹çš„ AI æœåŠ¡å®ä¾‹ï¼š
- **ç¬¬ä¸€ä¸ªç«¯å£**ï¼šæ§åˆ¶é˜Ÿä¼çš„ç¬¬ä¸€ä¸ªä½ç½®
- **ç¬¬äºŒä¸ªç«¯å£ï¼ˆç¬¬ä¸€ä¸ª+1ï¼‰**ï¼šæ§åˆ¶é˜Ÿä¼çš„ç¬¬äºŒä¸ªä½ç½®

é…ç½®æ–‡ä»¶ä¸­åªéœ€è¦è®°å½•**ç¬¬ä¸€ä¸ªç«¯å£**ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨ä¸‹ä¸€ä¸ªç«¯å£ä½œä¸ºé˜Ÿå‹ã€‚

## å¯¹æˆ˜æµç¨‹

### æ­¥éª¤ 1ï¼šå¯åŠ¨æ¡¥ç‰Œæ¸¸æˆæœåŠ¡å™¨

æ¸¸æˆæœåŠ¡å™¨è´Ÿè´£ç®¡ç†æ¸¸æˆè§„åˆ™ã€çŠ¶æ€å’Œåˆæ³•æ€§éªŒè¯ã€‚
æ ‡å‡†ç‰ˆæœ¬
```bash
cd ../bridge
./start_server.sh
```

æˆ–è€…æ‰‹åŠ¨å¯åŠ¨ï¼š

```bash
cd ../bridge
python3 server.py --port 9030
```

**éªŒè¯æœåŠ¡å™¨è¿è¡Œï¼š**

```bash
curl http://localhost:9030/health
```

é¢„æœŸè¾“å‡ºï¼š
```json
{
  "status": "healthy",
  "active_games": 0,
  "timestamp": "2025-10-10T12:00:00"
}
```
å˜ä½“ç‰ˆæœ¬
```bash
cd ../bridge_magic
./start_server.sh
```

æˆ–è€…æ‰‹åŠ¨å¯åŠ¨ï¼š

```bash
cd ../bridge_magic
python3 server.py --port 9031
```

**éªŒè¯æœåŠ¡å™¨è¿è¡Œï¼š**

```bash
curl http://localhost:9031/health
```

é¢„æœŸè¾“å‡ºï¼š
```json
{
  "status": "healthy",
  "active_games": 0,
  "timestamp": "2025-10-10T12:00:00"
}
```
### æ­¥éª¤ 2ï¼šå¯åŠ¨ AI æœåŠ¡å™¨

æ¯ä¸ª AI é˜Ÿä¼éœ€è¦å¯åŠ¨**ä¸¤ä¸ªè¿ç»­ç«¯å£**çš„æœåŠ¡å™¨ã€‚

#### å¯åŠ¨é˜Ÿä¼ A çš„ AI æœåŠ¡ï¼ˆç«¯å£ 50100-50101ï¼‰

**ç»ˆç«¯ 1 - AI A1 (ç«¯å£ 50100)ï¼š**
```bash
cd ../bridge/AI_example
./start_ai.sh 50100
```

**ç»ˆç«¯ 2 - AI A2 (ç«¯å£ 50101)ï¼š**
```bash
cd ../bridge/AI_example
./start_ai.sh 50101
```

#### å¯åŠ¨é˜Ÿä¼ B çš„ AI æœåŠ¡ï¼ˆç«¯å£ 50102-50103ï¼‰

**ç»ˆç«¯ 3 - AI B1 (ç«¯å£ 50102)ï¼š**
```bash
cd ../bridge/AI_example
./start_ai.sh 50102
```

**ç»ˆç«¯ 4 - AI B2 (ç«¯å£ 50103)ï¼š**
```bash
cd ../bridge/AI_example
./start_ai.sh 50103
```

**éªŒè¯ AI æœåŠ¡è¿è¡Œï¼š**

```bash
# æ£€æŸ¥é˜Ÿä¼ A
curl http://localhost:50100/health
curl http://localhost:50101/health

# æ£€æŸ¥é˜Ÿä¼ B
curl http://localhost:50102/health
curl http://localhost:50103/health
```

é¢„æœŸæ¯ä¸ªéƒ½è¿”å›ï¼š
```json
{
  "status": "healthy",
  "ai_id": "advanced_bridge_AI"
}
```

### æ­¥éª¤ 3ï¼šé…ç½®å¯¹æˆ˜å‚æ•°

é…ç½®æ–‡ä»¶ä½äº `../bridge_Arena/config/round1.json`

**é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼š**
æ ‡å‡†ç‰ˆæœ¬
```json
{
  "game_server": {
    "url": "http://localhost:9030",
    "timeout": 10
  },
  "logging": {
    "level": "INFO",
    "file": "logs/arena.log",
    "console": true
  },
  "tournament": {
    "rounds_per_match": 1,
    "boards_per_match": 1,
    "max_parallel_matches": 3,
    "delay_between_games": 0.001,
    "max_games_per_team": 1000
  },
  "ais": [
    {
      "ai_id": "demo1",
      "ai_name": "demo1",
      "port": 50100
    },
    {
      "ai_id": "demo2",
      "ai_name": "demo2",
      "port": 50102
    }
  ],
  "teams": []
}
```
å˜ä½“ç‰ˆæœ¬
```json
{
  "game_server": {
    "url": "http://localhost:9031",
    "timeout": 10
  },
  "logging": {
    "level": "INFO",
    "file": "logs/arena.log",
    "console": true
  },
  "tournament": {
    "rounds_per_match": 1,
    "boards_per_match": 1,
    "max_parallel_matches": 3,
    "delay_between_games": 0.001,
    "max_games_per_team": 1000
  },
  "ais": [
    {
      "ai_id": "demo1",
      "ai_name": "demo1",
      "port": 50100
    },
    {
      "ai_id": "demo2",
      "ai_name": "demo2",
      "port": 50102
    }
  ],
  "teams": []
}
```
**é…ç½®è¯´æ˜ï¼š**

| å­—æ®µ | è¯´æ˜ |
|------|------|
| `game_server.url` | æ¡¥ç‰Œæ¸¸æˆæœåŠ¡å™¨åœ°å€ |
| `game_server.timeout` | AI å“åº”è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ |
| `tournament.rounds_per_match` | æ¯åœºæ¯”èµ›çš„è½®æ•° |
| `tournament.boards_per_match` | æ¯åœºæ¯”èµ›çš„ç‰Œå±€æ•° |
| `tournament.max_parallel_matches` | æœ€å¤§å¹¶è¡Œå¯¹å±€æ•° |
| `ais[].port` | AI çš„**èµ·å§‹ç«¯å£**ï¼ˆç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨ port+1 ä½œä¸ºé˜Ÿå‹ï¼‰ |

**é‡è¦æç¤ºï¼š**
- `ais` æ•°ç»„ä¸­çš„ `port` åªéœ€è¦å¡«å†™**ç¬¬ä¸€ä¸ªç«¯å£**
- ç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨ `port` å’Œ `port+1` ä¸¤ä¸ªç«¯å£ç»„æˆä¸€ä¸ªé˜Ÿä¼
- ä¾‹å¦‚ï¼š`port: 50100` ä¼šä½¿ç”¨ 50100 å’Œ 50101 ä¸¤ä¸ªæœåŠ¡

### æ­¥éª¤ 4ï¼šå¯åŠ¨å¯¹æˆ˜

#### Duplicate æ¨¡å¼ï¼ˆå¤å¼èµ›åˆ¶ï¼‰

åœ¨ Duplicate æ¨¡å¼ä¸‹ï¼Œæ¯ä¸ª AI é˜Ÿä¼å†…éƒ¨ä¸¤ä¸ªç©å®¶ä½¿ç”¨ç›¸åŒçš„ AIï¼š
- é˜Ÿä¼ Aï¼šAI-A vs AI-Aï¼ˆå—åŒ—ä½ç½®ï¼‰
- é˜Ÿä¼ Bï¼šAI-B vs AI-Bï¼ˆå—åŒ—ä½ç½®ï¼‰

```bash
cd ../bridge_Arena
python3 start_arena.py \
  --config ../bridge_Arena/config/round1.json \
  --tournament-type duplicate
```

#### Round Robin æ¨¡å¼ï¼ˆå¾ªç¯èµ›ï¼‰

éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰ `teams` å­—æ®µï¼š

```json
{
  "teams": [
    {
      "team_id": "Team_AB",
      "team_name": "Team A-B",
      "player1": "demo1",
      "player2": "demo1"
    },
    {
      "team_id": "Team_CD",
      "team_name": "Team C-D",
      "player1": "demo2",
      "player2": "demo2"
    }
  ]
}
```

ç„¶åè¿è¡Œï¼š

```bash
cd ../bridge_Arena
python3 start_arena.py \
  --config ../bridge_Arena/config/round1.json \
  --tournament-type round_robin
```

### æ­¥éª¤ 5ï¼šæŸ¥çœ‹å¯¹æˆ˜ç»“æœ

å¯¹æˆ˜ç»“æœä¼šä¿å­˜åœ¨ `bridge_Arena/reports/` ç›®å½•ä¸‹ã€‚

```bash
cd ../bridge_Arena/reports
ls -lt  # æŸ¥çœ‹æœ€æ–°çš„æŠ¥å‘Šæ–‡ä»¶

# æŸ¥çœ‹æŠ¥å‘Šå†…å®¹
cat tournament_xxxxx.json | python3 -m json.tool
```

**æŠ¥å‘Šå†…å®¹åŒ…æ‹¬ï¼š**
- é˜Ÿä¼æ’åå’Œèƒœè´Ÿç»Ÿè®¡
- æ¯åœºæ¯”èµ›çš„è¯¦ç»†ç»“æœ
- å¾—åˆ†æƒ…å†µï¼ˆVPã€IMPç­‰ï¼‰
- å«ç‰Œå’Œå‡ºç‰Œå†å²

## å®Œæ•´å¯åŠ¨ç¤ºä¾‹

ä»¥ä¸‹æ˜¯å®Œæ•´çš„å¯åŠ¨å‘½ä»¤åºåˆ—ï¼š

```bash
# ========================================
# 1. å¯åŠ¨æ¸¸æˆæœåŠ¡å™¨ï¼ˆç»ˆç«¯ 1ï¼‰
# ========================================
cd ../bridge
./start_server.sh

# ========================================
# 2. å¯åŠ¨ AI é˜Ÿä¼ Aï¼ˆç»ˆç«¯ 2-3ï¼‰
# ========================================
# ç»ˆç«¯ 2
cd ../bridge/AI_example
./start_ai.sh 50100

# ç»ˆç«¯ 3
cd ../bridge/AI_example
./start_ai.sh 50101

# ========================================
# 3. å¯åŠ¨ AI é˜Ÿä¼ Bï¼ˆç»ˆç«¯ 4-5ï¼‰
# ========================================
# ç»ˆç«¯ 4
cd ../bridge/AI_example
./start_ai.sh 50102

# ç»ˆç«¯ 5
cd ../bridge/AI_example
./start_ai.sh 50103

# ========================================
# 4. éªŒè¯æ‰€æœ‰æœåŠ¡ï¼ˆç»ˆç«¯ 6ï¼‰
# ========================================
curl http://localhost:9030/health       # æ¸¸æˆæœåŠ¡å™¨
curl http://localhost:50100/health      # AI A1
curl http://localhost:50101/health      # AI A2
curl http://localhost:50102/health      # AI B1
curl http://localhost:50103/health      # AI B2

# ========================================
# 5. å¯åŠ¨å¯¹æˆ˜ï¼ˆç»ˆç«¯ 6ï¼‰
# ========================================
cd ../bridge_Arena
python3 start_arena.py \
  --config config/round1.json \
  --tournament-type duplicate

# ========================================
# 6. æŸ¥çœ‹ç»“æœ
# ========================================
ls -lt reports/
cat reports/tournament_*.json | python3 -m json.tool
```

## é«˜çº§é…ç½®

### è‡ªå®šä¹‰ AI å¯åŠ¨å‚æ•°

å¦‚æœéœ€è¦æ›´ç²¾ç»†çš„æ§åˆ¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ Python å¯åŠ¨ AIï¼š

```bash
python3 ../bridge/AI_example/ai_http_server.py \
  --port 50100 \
  --ai_id "my_custom_ai_1" \
  --ai_name "æˆ‘çš„AIé˜Ÿå‘˜1" \
  --game_server "http://localhost:9030" \
  --debug
```

### ç«¯å£è§„åˆ’å»ºè®®

| æœåŠ¡ | ç«¯å£èŒƒå›´ | è¯´æ˜ |
|------|---------|------|
| æ ‡å‡†æ¸¸æˆæœåŠ¡å™¨ | 9030 | å›ºå®šç«¯å£ |
| å˜ä½“æ¸¸æˆæœåŠ¡å™¨ | 9031 | å›ºå®šç«¯å£ |
| AI é˜Ÿä¼ A | 50100-50101 | è¿ç»­ç«¯å£å¯¹ |
| AI é˜Ÿä¼ B | 50102-50103 | è¿ç»­ç«¯å£å¯¹ |
| AI é˜Ÿä¼ C | 50104-50105 | è¿ç»­ç«¯å£å¯¹ |
| AI é˜Ÿä¼ D | 50106-50107 | è¿ç»­ç«¯å£å¯¹ |

**é‡è¦è§„åˆ™ï¼š**
- æ¯ä¸ªé˜Ÿä¼å ç”¨**2ä¸ªè¿ç»­ç«¯å£**
- é…ç½®æ–‡ä»¶ä¸­åªéœ€è¦è®°å½•**èµ·å§‹ç«¯å£**
- é¿å…ç«¯å£å†²çªï¼Œç¡®ä¿ç«¯å£æœªè¢«å ç”¨

### æ£€æŸ¥ç«¯å£å ç”¨

```bash
# Linux/macOS
lsof -i :9030
lsof -i :50100
lsof -i :50101

# æˆ–ä½¿ç”¨ netstat
netstat -tlnp | grep 9030
```

## æ•…éšœæ’é™¤

### é—®é¢˜ 1ï¼šæ¸¸æˆæœåŠ¡å™¨è¿æ¥å¤±è´¥

**ç—‡çŠ¶ï¼š**
```
Error: Failed to create game
Connection refused to http://localhost:9030
```

**è§£å†³æ–¹æ¡ˆï¼š**
1. æ£€æŸ¥æ¸¸æˆæœåŠ¡å™¨æ˜¯å¦è¿è¡Œï¼š`curl http://localhost:9030/health`
2. ç¡®è®¤ç«¯å£ 9030 æœªè¢«å…¶ä»–ç¨‹åºå ç”¨
3. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### é—®é¢˜ 2ï¼šAI æœåŠ¡å¥åº·æ£€æŸ¥å¤±è´¥

**ç—‡çŠ¶ï¼š**
```
Warning: AI Alpha AI health check failed
Connection timeout
```

**è§£å†³æ–¹æ¡ˆï¼š**
1. éªŒè¯ AI æœåŠ¡æ˜¯å¦è¿è¡Œï¼š`curl http://localhost:50100/health`
2. æ£€æŸ¥ç«¯å£å·æ˜¯å¦æ­£ç¡®
3. ç¡®è®¤ä¾èµ–å·²å®‰è£…ï¼š`pip install flask requests`
4. æŸ¥çœ‹ AI æœåŠ¡æ—¥å¿—è¾“å‡º

### é—®é¢˜ 3ï¼šç«¯å£è¢«å ç”¨

**ç—‡çŠ¶ï¼š**
```
Address already in use
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :50100

# ç»ˆæ­¢è¿›ç¨‹
kill -9 <PID>

# æˆ–ä½¿ç”¨ä¸åŒçš„ç«¯å£
./start_ai.sh 50200
```

### é—®é¢˜ 4ï¼šé…ç½®æ–‡ä»¶é”™è¯¯

**ç—‡çŠ¶ï¼š**
```
Error loading configuration: ...
```

**è§£å†³æ–¹æ¡ˆï¼š**
1. éªŒè¯ JSON æ ¼å¼ï¼š`cat config.json | python3 -m json.tool`
2. æ£€æŸ¥æ‰€æœ‰å¿…éœ€å­—æ®µæ˜¯å¦å­˜åœ¨
3. ç¡®ä¿ç«¯å£å·æ˜¯æ•´æ•°ç±»å‹

### é—®é¢˜ 5ï¼šAI ä¸å“åº”æˆ–è¶…æ—¶

**ç—‡çŠ¶ï¼š**
```
AI action timeout after 10 seconds
```

**è§£å†³æ–¹æ¡ˆï¼š**
1. å¢åŠ è¶…æ—¶æ—¶é—´ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ `game_server.timeout`
2. æ£€æŸ¥ AI é€»è¾‘æ˜¯å¦æœ‰æ­»å¾ªç¯æˆ–è€—æ—¶æ“ä½œ
3. æŸ¥çœ‹ AI æœåŠ¡çš„ CPU å’Œå†…å­˜ä½¿ç”¨æƒ…å†µ

## æ—¥å¿—å’Œè°ƒè¯•

### æŸ¥çœ‹å¯¹æˆ˜æ—¥å¿—

```bash
cd ../bridge_Arena
tail -f logs/arena.log
```

### å¯ç”¨è°ƒè¯•æ¨¡å¼

ä¿®æ”¹é…ç½®æ–‡ä»¶çš„ logging éƒ¨åˆ†ï¼š

```json
{
  "logging": {
    "level": "DEBUG",
    "file": "logs/arena.log",
    "console": true
  }
}
```

### AI æœåŠ¡è°ƒè¯•

å¯åŠ¨ AI æœåŠ¡æ—¶æ·»åŠ  `--debug` å‚æ•°ï¼š

```bash
python3 ai_http_server.py --port 50100 --debug
```

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### å¹¶è¡Œå¯¹å±€ä¼˜åŒ–

å¢åŠ å¹¶è¡Œå¯¹å±€æ•°ä»¥æé«˜æ•ˆç‡ï¼š

```json
{
  "tournament": {
    "max_parallel_matches": 5
  }
}
```

### å¿«é€Ÿæµ‹è¯•é…ç½®

ç”¨äºå¿«é€Ÿæµ‹è¯•çš„é…ç½®ï¼š

```json
{
  "tournament": {
    "rounds_per_match": 1,
    "boards_per_match": 1,
    "delay_between_games": 0.001
  }
}
```

### å®Œæ•´æ¯”èµ›é…ç½®

ç”¨äºæ­£å¼æ¯”èµ›çš„é…ç½®ï¼š

```json
{
  "tournament": {
    "rounds_per_match": 3,
    "boards_per_match": 16,
    "delay_between_games": 1.0
  }
}
```

## è„šæœ¬åŒ–ç®¡ç†

å¯ä»¥åˆ›å»ºä¸€ä¸ªç®¡ç†è„šæœ¬æ¥ç®€åŒ–æ“ä½œï¼š

```bash
#!/bin/bash
# battle_manager.sh

ACTION=$1

case $ACTION in
  start)
    echo "å¯åŠ¨æ‰€æœ‰æœåŠ¡..."
    # å¯åŠ¨æ¸¸æˆæœåŠ¡å™¨
  cd ../bridge
  ./start_server.sh &
    
    # ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨
    sleep 3
    
  # å¯åŠ¨ AI æœåŠ¡
  cd ../bridge/AI_example
  ./start_ai.sh 50100 &
  ./start_ai.sh 50101 &
  ./start_ai.sh 50102 &
  ./start_ai.sh 50103 &
    
    echo "æ‰€æœ‰æœåŠ¡å·²å¯åŠ¨"
    ;;
    
  stop)
    echo "åœæ­¢æ‰€æœ‰æœåŠ¡..."
    pkill -f "server.py --port 9030"
    pkill -f "ai_http_server.py"
    echo "æ‰€æœ‰æœåŠ¡å·²åœæ­¢"
    ;;
    
  status)
    echo "æ£€æŸ¥æœåŠ¡çŠ¶æ€..."
    curl -s http://localhost:9030/health 2>/dev/null && echo "âœ“ æ¸¸æˆæœåŠ¡å™¨è¿è¡Œä¸­" || echo "âœ— æ¸¸æˆæœåŠ¡å™¨æœªè¿è¡Œ"
    curl -s http://localhost:50100/health 2>/dev/null && echo "âœ“ AI-A1 è¿è¡Œä¸­" || echo "âœ— AI-A1 æœªè¿è¡Œ"
    curl -s http://localhost:50101/health 2>/dev/null && echo "âœ“ AI-A2 è¿è¡Œä¸­" || echo "âœ— AI-A2 æœªè¿è¡Œ"
    curl -s http://localhost:50102/health 2>/dev/null && echo "âœ“ AI-B1 è¿è¡Œä¸­" || echo "âœ— AI-B1 æœªè¿è¡Œ"
    curl -s http://localhost:50103/health 2>/dev/null && echo "âœ“ AI-B2 è¿è¡Œä¸­" || echo "âœ— AI-B2 æœªè¿è¡Œ"
    ;;
    
  battle)
    echo "å¯åŠ¨å¯¹æˆ˜..."
    cd ../bridge_Arena
    python3 start_arena.py \
      --config config/round1.json \
      --tournament-type duplicate
    ;;
    
  *)
    echo "ç”¨æ³•: $0 {start|stop|status|battle}"
    exit 1
    ;;
esac
```

ä½¿ç”¨æ–¹æ³•ï¼š

```bash
chmod +x battle_manager.sh
./battle_manager.sh start    # å¯åŠ¨æ‰€æœ‰æœåŠ¡
./battle_manager.sh status   # æ£€æŸ¥çŠ¶æ€
./battle_manager.sh battle   # å¼€å§‹å¯¹æˆ˜
./battle_manager.sh stop     # åœæ­¢æ‰€æœ‰æœåŠ¡
```

## æ€»ç»“

æ¡¥ç‰Œ AI å¯¹æˆ˜ç³»ç»Ÿçš„å¯åŠ¨é¡ºåºï¼š

1. âœ… **å¯åŠ¨æ¸¸æˆæœåŠ¡å™¨**ï¼ˆ9030/9031 ç«¯å£ï¼‰
2. âœ… **å¯åŠ¨ AI æœåŠ¡**ï¼ˆæ¯é˜Ÿ 2 ä¸ªè¿ç»­ç«¯å£ï¼‰
3. âœ… **é…ç½®å¯¹æˆ˜å‚æ•°**ï¼ˆåªéœ€é…ç½®èµ·å§‹ç«¯å£ï¼‰
4. âœ… **è¿è¡Œå¯¹æˆ˜ç¨‹åº**ï¼ˆæŒ‡å®šé…ç½®æ–‡ä»¶å’Œæ¨¡å¼ï¼‰
5. âœ… **æŸ¥çœ‹å¯¹æˆ˜ç»“æœ**ï¼ˆreports ç›®å½•ï¼‰

å…³é”®è¦ç‚¹ï¼š
- ğŸ¯ æ¯ä¸ª AI é˜Ÿä¼éœ€è¦**2ä¸ªè¿ç»­ç«¯å£**
- ğŸ¯ é…ç½®æ–‡ä»¶ä¸­åªè®°å½•**ç¬¬ä¸€ä¸ªç«¯å£**
- ğŸ¯ ç³»ç»Ÿè‡ªåŠ¨ä½¿ç”¨ port å’Œ port+1
- ğŸ¯ Duplicate æ¨¡å¼æœ€ç®€å•ï¼Œé€‚åˆå¿«é€Ÿæµ‹è¯•

ç¥å¯¹æˆ˜é¡ºåˆ©ï¼ğŸƒâ™ ï¸â™¥ï¸â™¦ï¸â™£ï¸

